(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>m});var s=!1;if("undefined"!=typeof window){var i={get passive(){s=!0}};window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}var o="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),n=[],l=!1,r=-1,a=void 0,c=void 0,h=function(t){return n.some((function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))}))},d=function(t){var e=t||window.event;return!!h(e.target)||e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1)};class p{constructor(t=document.scrollingElement,e={}){this.$scrollContainer=t===document.scrollingElement?window:t,this.$scrollingElement=t,this.scrollTop=0,this.scrollLeft=0,this.deltaX=0,this.deltaY=0,this.progressTop=0,this.progressLeft=0,this.scrollTopMax=0,this.scrollLeftMax=0,this.scrollHeight=0,this.scrollWidth=0,this.raf=null,this.callbacks={scroll:[],tick:[]},this.lockNamespaces=[],this._animateOptions=null,this.options=Object.assign({},{},e),this.events={resize:this.resize.bind(this),tick:this.tick.bind(this),scroll:this.scroll.bind(this),wheel:this.wheel.bind(this)},window.addEventListener("resize",this.events.resize),this.$scrollContainer.addEventListener("scroll",this.events.scroll),this.$scrollContainer.addEventListener("wheel",this.events.wheel),this.tick()}get scrollData(){return{x:this.scrollLeft,y:this.scrollTop,deltaX:this.deltaX,deltaY:this.deltaY,progressY:this.progressTop,progressX:this.progressLeft}}recalc(){this.scrollHeight=this.$scrollingElement.scrollHeight,this.scrollWidth=this.$scrollingElement.scrollWidth,this.scrollTopMax=this.scrollHeight-this.$scrollingElement.clientHeight,this.scrollLeftMax=this.scrollWidth-this.$scrollingElement.clientWidth}tick(){this.recalc(),this.update(),this.animate(),this.sendEvent("tick"),this.raf=requestAnimationFrame(this.events.tick)}scroll(){this.update(),this.sendEvent("scroll")}wheel(t){this._animateOptions&&this._animateOptions.cancelable?(this._animateOptions.resolve(),this._animateOptions=null):this._animateOptions&&!this._animateOptions.cancelable&&t.preventDefault()}update(){const t=this.$scrollingElement.scrollTop,e=this.$scrollingElement.scrollLeft;this.deltaX=this.$scrollingElement.scrollLeft-this.scrollLeft,this.deltaY=this.$scrollingElement.scrollTop-this.scrollTop,this.scrollTop=t,this.scrollLeft=e,this.progressTop=this.scrollTopMax?this.scrollTop/this.scrollTopMax:0,this.progressLeft=this.scrollLeftMax?this.scrollLeft/this.scrollLeftMax:0}sendEvent(t){const e=this.callbacks[t],s=this.scrollData;for(const t of e)t.callback(s)}on(t,e,s={}){this.callbacks[t]&&this.callbacks[t].push({callback:e,options:s})}off(t,e){if(this.callbacks[t]){const s=this.callbacks[t].findIndex((t=>t.callback===e));s>-1&&this.callbacks[t].splice(s,1)}}resize(){}lock(t,e){if(t)(function(t,e){if(t){if(!n.some((function(e){return e.targetElement===t}))){var i={targetElement:t,options:e||{}};n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return Array.from(t)}(n),[i]),o?(t.ontouchstart=function(t){1===t.targetTouches.length&&(r=t.targetTouches[0].clientY)},t.ontouchmove=function(e){1===e.targetTouches.length&&function(t,e){var s=t.targetTouches[0].clientY-r;!h(t.target)&&(e&&0===e.scrollTop&&s>0||function(t){return!!t&&t.scrollHeight-t.scrollTop<=t.clientHeight}(e)&&s<0?d(t):t.stopPropagation())}(e,t)},l||(document.addEventListener("touchmove",d,s?{passive:!1}:void 0),l=!0)):function(t){if(void 0===c){var e=!!t&&!0===t.reserveScrollBarGap,s=window.innerWidth-document.documentElement.clientWidth;e&&s>0&&(c=document.body.style.paddingRight,document.body.style.paddingRight=s+"px")}void 0===a&&(a=document.body.style.overflow,document.body.style.overflow="hidden")}(e)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")})(this.$scrollContainer),e&&this.lockNamespaces.push(e);else{if(e){const t=this.lockNamespaces.indexOf(e);t>-1&&this.lockNamespaces.splice(t,1)}this.lockNamespaces.length||((i=this.$scrollContainer)?(n=n.filter((function(t){return t.targetElement!==i})),o?(i.ontouchstart=null,i.ontouchmove=null,l&&0===n.length&&(document.removeEventListener("touchmove",d,s?{passive:!1}:void 0),l=!1)):n.length||(void 0!==c&&(document.body.style.paddingRight=c,c=void 0),void 0!==a&&(document.body.style.overflow=a,a=void 0))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."))}var i}scrollTo({x:t=0,y:e=0,element:s=null,duration:i=0,cancelable:o=!0}){const n=this.isSafari();return new Promise((l=>{s instanceof HTMLElement&&(e=s.offsetTop);const r={resolve:l,duration:i,cancelable:o,time:Date.now(),start:{y:this.scrollTop,x:this.scrollLeft},distention:{y:e-this.scrollTop,x:t-this.scrollLeft}};n||this.$scrollingElement.style.setProperty("scroll-snap-type","none"),i?this._animateOptions=r:(this.setPosition(r.distention.x,r.distention.y),r.resolve())})).then((()=>{n||this.$scrollingElement.style.setProperty("scroll-snap-type","none")}))}animate(){if(!this._animateOptions)return!1;const t=Date.now(),e=t-this._animateOptions.time,s=u(e,this._animateOptions.start.x,this._animateOptions.distention.x,this._animateOptions.duration),i=u(e,this._animateOptions.start.y,this._animateOptions.distention.y,this._animateOptions.duration);this.setPosition(s,i),t>=this._animateOptions.time+this._animateOptions.duration&&(this._animateOptions.resolve(),this._animateOptions=null)}setPosition(t,e){this.$scrollingElement.scrollLeft=t,this.$scrollingElement.scrollTop=e}destroy(){cancelAnimationFrame(this.raf),document.removeEventListener("resize",this.events.resize),this.$scrollContainer.removeEventListener("scroll",this.events.scroll)}isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}function u(t,e,s,i){return(t/=i/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e}const m=({app:t},e)=>{const s=JSON.parse('<%= JSON.stringify(options).replace(/^"/, "\'").replace(/"$/, "\'") %>');e("scroll",new p(document.scrollingElement,s))};module.exports=e.default})();